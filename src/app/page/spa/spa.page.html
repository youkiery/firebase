<ion-header>
  <ion-toolbar color="success">
    <ion-title style="text-align: center;">
      THANHXUANPET
    </ion-title>
    <ion-buttons slot="secondary">
      <ion-button (click)="rest.router.navigateByUrl('/setting')">
        <ion-icon slot="end" name="settings-outline"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="start">
      <ion-img src="assets/image/logo.png" class="logo" (click)="rest.router.navigateByUrl('/home')"></ion-img>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed" (click)="rest.router.navigateByUrl('gopy')">
    <ion-fab-button>
      Góp ý
    </ion-fab-button>
  </ion-fab>

  <div>
    Ngày hiển thị: {{ time.timetodate(rest.spa.time) }}
  </div>

  <div *ngFor="let item of this.rest.spa.list; let i = index" [class]="status[item.status]">
    <div class="col-xs-6">
      Tên khách: {{item.name}} <br>
      Điện thoại: {{item.phone}} <br>
      Cân nặng: {{weight[item.weight]}}
    </div>
    <div class="col-xs-6">
      Người nhận: {{item.user}} <br>
      Thời gian nhận: {{item.time}} <br>
      Trạng thái: {{status_text[item.status]}} 
    </div>
    <div>
      Dịch vụ: {{item.service}}
    </div>
    <div>
      Ghi chú: {{item.note}}
    </div>
    
    <div *ngIf="item.image.length">
      <img class="thumbnail-sm" *ngFor="let image of item.image" [src]="image" (click)="detail(image)">
    </div>
    <img *ngIf="item.status < 1" class="icon" src="/assets/icon/done.png" (click)="done(i)">
    <img *ngIf="item.status < 2" class="icon" src="/assets/icon/called.png" (click)="called(i)">
    <img *ngIf="item.status < 3" class="icon" src="/assets/icon/return.png" (click)="returned(i)">
    <img *ngIf="rest.config.spa > 1" class="right" src="/assets/icon/update.png" (click)="update(i)">
  </div>

  <!-- <table border="1">
    <thead>  
      <tr>
        <th> STT </th>
        <th> Số điện thoại </th>
        <th> Khách hàng </th>
        <th> Thời gian xong </th>
      </tr>
    </thead>
    <tbody *ngFor="let item of rest.spa.data; let i = index" [class]="item.done > 0 ? 'green' : ''">
      <tr>
        <td> {{i + 1}} </td>
        <td> {{item.phone}} </td>
        <td> {{item.name}} </td>
        <td> {{item.time}} </td>
      </tr>
      <tr>
        <td colspan="2"> <span class="red"> {{item.type}} </span> <span class="blue"> {{item.note}} </span> </td>
        <td colspan="2"> 
          <ion-button color="light" (click)="detail(item.id)" size="small">
            xem
          </ion-button>  
          <ion-button color="light" (click)="done(item.id)" size="small">
            <ion-icon name="checkmark-outline"></ion-icon>
          </ion-button>  
        </td>
      </tr>
    </tbody>
  </table> -->
</ion-content>

<ion-toolbar>
  <ion-tabs>
    <ion-tab-bar>
      <ion-tab-button (click)="rest.router.navigateByUrl('/home')">
        <ion-icon name="arrow-back-outline"></ion-icon>
        <ion-label> Trở về </ion-label>
      </ion-tab-button>

      <ion-tab-button (click)="insert()">
        <ion-icon name="add-circle-outline"></ion-icon>
        <ion-label> Thêm spa </ion-label>
      </ion-tab-button>

      <ion-tab-button (click)="changeDate(-1)">
        <ion-icon name="play-skip-back-circle-outline"></ion-icon>
        <ion-label> Hôm trước </ion-label>
      </ion-tab-button>

      <ion-tab-button (click)="pickDate()">
        <ion-icon name="calendar-outline"></ion-icon>
        <ion-label> Chọn ngày </ion-label>
      </ion-tab-button>

      <ion-tab-button (click)="changeDate(1)">
        <ion-icon name="play-skip-forward-circle-outline"></ion-icon>
        <ion-label> Hôm sau </ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
</ion-toolbar>